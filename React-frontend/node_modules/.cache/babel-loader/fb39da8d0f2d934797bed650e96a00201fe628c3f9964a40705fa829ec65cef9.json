{"ast":null,"code":"var _jsxFileName = \"E:\\\\Attendance SAAS\\\\attendance-tracker-frontend\\\\src\\\\components\\\\Dashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Container, Typography, Button, Grid, Box, CircularProgress } from '@mui/material';\nimport { auth } from '../firebase';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport AttendanceList from './Attendance'; // Component to list attendance\nimport TimetableManagement from './TimetableManagement'; // Component to manage timetable\nimport ProfileView from './ProfileView'; // Component to view user profile\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DashboardComponent = () => {\n  _s();\n  const [user, setUser] = useState(null); // User data\n  const [attendance, setAttendance] = useState([]); // Attendance data\n  const [loading, setLoading] = useState(true); // Loading state\n  const navigate = useNavigate();\n  useEffect(() => {\n    const fetchUserData = async () => {\n      const currentUser = auth.currentUser;\n      if (currentUser) {\n        setUser({\n          name: currentUser.displayName,\n          email: currentUser.email,\n          photoURL: currentUser.photoURL\n        });\n\n        // Fetch user attendance using email\n        try {\n          const response = await axios.get(`/api/attendance/${currentUser.uid}`);\n          setAttendance(response.data);\n        } catch (error) {\n          console.error('Error fetching attendance:', error);\n        }\n        setLoading(false);\n      } else {\n        navigate('/login');\n      }\n    };\n    fetchUserData();\n  }, [navigate]);\n  const handleLogout = () => {\n    auth.signOut().then(() => {\n      navigate('/login');\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    sx: {\n      paddingTop: '30px'\n    },\n    children: loading ? /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(Box, {\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h4\",\n        gutterBottom: true,\n        children: [\"Welcome to your Dashboard, \", user.name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 3,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 6,\n          children: /*#__PURE__*/_jsxDEV(Box, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              children: \"Your Profile\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(ProfileView, {\n              user: user\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"contained\",\n              color: \"primary\",\n              onClick: handleLogout,\n              sx: {\n                marginTop: 2\n              },\n              children: \"Logout\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 6,\n          children: /*#__PURE__*/_jsxDEV(Box, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              children: \"Attendance Summary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(AttendanceList, {\n              attendance: attendance\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          children: /*#__PURE__*/_jsxDEV(Box, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              children: \"Timetable Management\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(TimetableManagement, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 9\n  }, this);\n};\n_s(DashboardComponent, \"xThm/prck41ou8O62xwJR1ezfyQ=\", false, function () {\n  return [useNavigate];\n});\n_c = DashboardComponent;\nexport default DashboardComponent;\nvar _c;\n$RefreshReg$(_c, \"DashboardComponent\");","map":{"version":3,"names":["React","useState","useEffect","Container","Typography","Button","Grid","Box","CircularProgress","auth","axios","useNavigate","AttendanceList","TimetableManagement","ProfileView","jsxDEV","_jsxDEV","DashboardComponent","_s","user","setUser","attendance","setAttendance","loading","setLoading","navigate","fetchUserData","currentUser","name","displayName","email","photoURL","response","get","uid","data","error","console","handleLogout","signOut","then","sx","paddingTop","children","fileName","_jsxFileName","lineNumber","columnNumber","variant","gutterBottom","container","spacing","item","xs","sm","color","onClick","marginTop","_c","$RefreshReg$"],"sources":["E:/Attendance SAAS/attendance-tracker-frontend/src/components/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Container, Typography, Button, Grid, Box, CircularProgress } from '@mui/material';\nimport { auth } from '../firebase';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport AttendanceList from './Attendance'; // Component to list attendance\nimport TimetableManagement from './TimetableManagement'; // Component to manage timetable\nimport ProfileView from './ProfileView'; // Component to view user profile\n\nconst DashboardComponent = () => {\n    const [user, setUser] = useState(null);  // User data\n    const [attendance, setAttendance] = useState([]);  // Attendance data\n    const [loading, setLoading] = useState(true);  // Loading state\n    const navigate = useNavigate();\n\n    useEffect(() => {\n        const fetchUserData = async () => {\n            const currentUser = auth.currentUser;\n            if (currentUser) {\n                setUser({\n                    name: currentUser.displayName,\n                    email: currentUser.email,\n                    photoURL: currentUser.photoURL\n                });\n\n                // Fetch user attendance using email\n                try {\n                    const response = await axios.get(`/api/attendance/${currentUser.uid}`);\n                    setAttendance(response.data);\n                } catch (error) {\n                    console.error('Error fetching attendance:', error);\n                }\n\n                setLoading(false);\n            } else {\n                navigate('/login');\n            }\n        };\n\n        fetchUserData();\n    }, [navigate]);\n\n    const handleLogout = () => {\n        auth.signOut().then(() => {\n            navigate('/login');\n        });\n    };\n\n    return (\n        <Container sx={{ paddingTop: '30px' }}>\n            {loading ? (\n                <CircularProgress />\n            ) : (\n                <Box>\n                    <Typography variant=\"h4\" gutterBottom>\n                        Welcome to your Dashboard, {user.name}\n                    </Typography>\n\n                    <Grid container spacing={3}>\n                        <Grid item xs={12} sm={6}>\n                            <Box>\n                                <Typography variant=\"h6\">Your Profile</Typography>\n                                <ProfileView user={user} />\n                                <Button\n                                    variant=\"contained\"\n                                    color=\"primary\"\n                                    onClick={handleLogout}\n                                    sx={{ marginTop: 2 }}\n                                >\n                                    Logout\n                                </Button>\n                            </Box>\n                        </Grid>\n\n                        <Grid item xs={12} sm={6}>\n                            <Box>\n                                <Typography variant=\"h6\">Attendance Summary</Typography>\n                                <AttendanceList attendance={attendance} />\n                            </Box>\n                        </Grid>\n\n                        <Grid item xs={12}>\n                            <Box>\n                                <Typography variant=\"h6\">Timetable Management</Typography>\n                                <TimetableManagement />\n                            </Box>\n                        </Grid>\n                    </Grid>\n                </Box>\n            )}\n        </Container>\n    );\n};\n\nexport default DashboardComponent;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"var _jsxFileName = \"E:\\\\Attendance SAAS\\\\attendance-tracker-frontend\\\\src\\\\components\\\\AdminConfigForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { TextField, Button, Box, Typography, CircularProgress } from '@mui/material';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AdminConfigForm = () => {\n  _s();\n  const [academicDate, setAcademicDate] = useState('');\n  const [timetableOrder, setTimetableOrder] = useState('');\n  const [loading, setLoading] = useState(false); // Loading state for saving the config\n  const [config, setConfig] = useState(null); // To store the fetched config data\n\n  useEffect(() => {\n    // Fetch the current admin configuration on mount\n    const fetchConfig = async () => {\n      try {\n        const response = await axios.get('/api/admin-config/latest');\n        setConfig(response.data);\n        setAcademicDate(response.data.academicDate || '');\n        setTimetableOrder(response.data.timetableOrder || '');\n      } catch (error) {\n        console.error('Error fetching config:', error);\n      }\n    };\n    fetchConfig();\n  }, []);\n  const handleSaveConfig = async () => {\n    setLoading(true);\n    try {\n      // Send the updated configuration data to the backend\n      const response = await axios.post('/api/admin-config', {\n        academicDate,\n        timetableOrder\n      });\n      alert('Configuration saved successfully!');\n      setConfig(response.data); // Update the config in state\n    } catch (error) {\n      console.error('Error saving config:', error);\n      alert('Error saving configuration');\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      padding: 2\n    },\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h6\",\n      gutterBottom: true,\n      children: \"Admin Configuration\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this), loading ? /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(Box, {\n      children: [/*#__PURE__*/_jsxDEV(TextField, {\n        label: \"Academic Date\",\n        value: academicDate,\n        onChange: e => setAcademicDate(e.target.value),\n        fullWidth: true,\n        margin: \"normal\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        label: \"Timetable Order\",\n        value: timetableOrder,\n        onChange: e => setTimetableOrder(e.target.value),\n        fullWidth: true,\n        margin: \"normal\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          marginTop: 2\n        },\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          color: \"primary\",\n          onClick: handleSaveConfig,\n          children: \"Save Configuration\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 21\n      }, this), config && /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          marginTop: 3\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          children: \"Current Configuration\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          children: [\"Academic Date: \", config.academicDate]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          children: [\"Timetable Order: \", config.timetableOrder]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 9\n  }, this);\n};\n_s(AdminConfigForm, \"9nxgIQZURAy1SfuG6YzFEo9rBFU=\");\n_c = AdminConfigForm;\nexport default AdminConfigForm;\nvar _c;\n$RefreshReg$(_c, \"AdminConfigForm\");","map":{"version":3,"names":["React","useState","useEffect","TextField","Button","Box","Typography","CircularProgress","axios","jsxDEV","_jsxDEV","AdminConfigForm","_s","academicDate","setAcademicDate","timetableOrder","setTimetableOrder","loading","setLoading","config","setConfig","fetchConfig","response","get","data","error","console","handleSaveConfig","post","alert","sx","padding","children","variant","gutterBottom","fileName","_jsxFileName","lineNumber","columnNumber","label","value","onChange","e","target","fullWidth","margin","marginTop","color","onClick","_c","$RefreshReg$"],"sources":["E:/Attendance SAAS/attendance-tracker-frontend/src/components/AdminConfigForm.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { TextField, Button, Box, Typography, CircularProgress } from '@mui/material';\nimport axios from 'axios';\n\nconst AdminConfigForm = () => {\n    const [academicDate, setAcademicDate] = useState('');\n    const [timetableOrder, setTimetableOrder] = useState('');\n    const [loading, setLoading] = useState(false); // Loading state for saving the config\n    const [config, setConfig] = useState(null); // To store the fetched config data\n\n    useEffect(() => {\n        // Fetch the current admin configuration on mount\n        const fetchConfig = async () => {\n            try {\n                const response = await axios.get('/api/admin-config/latest');\n                setConfig(response.data);\n                setAcademicDate(response.data.academicDate || '');\n                setTimetableOrder(response.data.timetableOrder || '');\n            } catch (error) {\n                console.error('Error fetching config:', error);\n            }\n        };\n\n        fetchConfig();\n    }, []);\n\n    const handleSaveConfig = async () => {\n        setLoading(true);\n        try {\n            // Send the updated configuration data to the backend\n            const response = await axios.post('/api/admin-config', {\n                academicDate,\n                timetableOrder\n            });\n            alert('Configuration saved successfully!');\n            setConfig(response.data); // Update the config in state\n        } catch (error) {\n            console.error('Error saving config:', error);\n            alert('Error saving configuration');\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    return (\n        <Box sx={{ padding: 2 }}>\n            <Typography variant=\"h6\" gutterBottom>Admin Configuration</Typography>\n            {loading ? (\n                <CircularProgress />\n            ) : (\n                <Box>\n                    <TextField\n                        label=\"Academic Date\"\n                        value={academicDate}\n                        onChange={(e) => setAcademicDate(e.target.value)}\n                        fullWidth\n                        margin=\"normal\"\n                    />\n                    <TextField\n                        label=\"Timetable Order\"\n                        value={timetableOrder}\n                        onChange={(e) => setTimetableOrder(e.target.value)}\n                        fullWidth\n                        margin=\"normal\"\n                    />\n                    <Box sx={{ marginTop: 2 }}>\n                        <Button\n                            variant=\"contained\"\n                            color=\"primary\"\n                            onClick={handleSaveConfig}\n                        >\n                            Save Configuration\n                        </Button>\n                    </Box>\n\n                    {/* Display current configuration if available */}\n                    {config && (\n                        <Box sx={{ marginTop: 3 }}>\n                            <Typography variant=\"h6\">Current Configuration</Typography>\n                            <Typography>Academic Date: {config.academicDate}</Typography>\n                            <Typography>Timetable Order: {config.timetableOrder}</Typography>\n                        </Box>\n                    )}\n                </Box>\n            )}\n        </Box>\n    );\n};\n\nexport default AdminConfigForm;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}